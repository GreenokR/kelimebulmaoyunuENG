import random
import time
from datetime import datetime

# Kelime ve anlam sÃ¶zlÃ¼ÄŸÃ¼ (Zorluk seviyelerine gÃ¶re gruplandÄ±rÄ±lmÄ±ÅŸtÄ±r)
words = {
    "A1": {
        "ability": "kabiliyet, yetenek, beceri",
        "about": "hakkÄ±nda, ilgili, konusunda",
        "accept": "kabul etmek",
        "action": "eylem, etki, hareket",
        "add": "eklemek, ilave etmek",
        "adult": "yetiÅŸkin, eriÅŸkin",
        "again": "tekrar, yeniden",
        "against": "karÅŸÄ±",
        "air": "hava",
        "allow": "izin vermek"
    },
    "A2": {
        "appear": "gÃ¶rÃ¼nmek, gÃ¶zÃ¼kmek",
        "apply": "uygulamak, baÅŸvurmak",
        "area": "alan, bÃ¶lge",
        "arrive": "varmak, ulaÅŸmak",
        "art": "sanat",
        "author": "yazar",
        "available": "mÃ¼sait",
        "avoid": "Ã¶nlemek, kaÃ§Ä±nmak",
        "back": "geri",
        "ball": "top"
    },
    "B1": {
        "abandon": "Terk etmek",
        "absence": "Yokluk, bulunmama",
        "accuse": "SuÃ§lamak",
        "achieve": "BaÅŸarmak",
        "advantage": "Avantaj",
        "advertise": "Ä°lan vermek, reklam yapmak",
        "advice": "Tavsiye",
        "afford": "GÃ¼cÃ¼ yetmek (maddi)",
        "agree": "KatÄ±lmak, aynÄ± fikirde olmak",
        "announce": "Duyurmak"
    },
    "B2": {
        "apologize": "Ã–zÃ¼r dilemek",
        "approach": "YaklaÅŸmak",
        "arrange": "DÃ¼zenlemek",
        "assist": "YardÄ±m etmek",
        "assume": "Farz etmek",
        "avoid": "KaÃ§Ä±nmak",
        "balloon": "Balon",
        "breathe": "Nefes almak",
        "capture": "yakalamak",
        "celebrate": "kutlamak"
    },
    "C1": {
        "defend": "Savunmak",
        "distract": "Dikkatini daÄŸÄ±tmak",
        "educate": "EÄŸitmek",
        "explain": "AÃ§Ä±klamak",
        "fabricate": "Ãœretmek, uydurmak",
        "grasp": "Kavramak",
        "hesitate": "TereddÃ¼t etmek",
        "illustrate": "Resmetmek, Ã¶rneklemek",
        "imagine": "Hayal etmek",
        "implement": "Uygulamak"
    },
    "C2": {
        "accomplish": "BaÅŸarmak",
        "authenticate": "DoÄŸrulamak",
        "eliminate": "Elemek",
        "exaggerate": "Abartmak",
        "hypothesize": "Varsaymak",
        "interrogate": "Sorgulamak",
        "manipulate": "ManipÃ¼le etmek",
        "negotiate": "PazarlÄ±k yapmak",
        "overcome": "AÅŸmak, Ã¼stesinden gelmek",
        "speculate": "SpekÃ¼lasyon yapmak"
    }
}

# KayÄ±tlarÄ± tutacak bir liste
leaderboard = []

def kelime_oyunu():
    # BaÅŸlangÄ±Ã§ zorluk seviyesi
    level = "A1"
    correct_answers = 0  # DoÄŸru cevap sayÄ±sÄ±
    wrong_answers = 0   # YanlÄ±ÅŸ cevap sayÄ±sÄ±
    max_lives = 3
    lives = max_lives

    # KayÄ±tlarÄ± tutacak liste
    correct_words = []
    wrong_words = []

    # Zorluk seviyeleri sÃ¼releri (A1 - 10 saniye, A2 - 12 saniye, vb.)
    level_times = {
        "A1": 10,
        "A2": 12,
        "B1": 14,
        "B2": 16,
        "C1": 18,
        "C2": 20
    }
    
    # Oyun sÃ¼resi
    game_start_time = time.time()

    while lives > 0:
        # Zorluk seviyesindeki kelimeleri al
        current_level_words = words[level]
        kelime, anlam = random.choice(list(current_level_words.items()))
        
        # Harflerini karÄ±ÅŸtÄ±r (karÄ±ÅŸÄ±k olan orijinaliyle aynÄ± olursa tekrar karÄ±ÅŸtÄ±r)
        harfler = list(kelime)
        while True:
            random.shuffle(harfler)
            karisik = ''.join(harfler)
            if karisik != kelime:
                break

        # Tahmin oyununu baÅŸlat
        print(f"\nAnlamÄ±: {anlam}")
        print(f"KarÄ±ÅŸÄ±k harfler: {karisik}")
        
        # Zaman sÄ±nÄ±rÄ±nÄ± belirle
        time_limit = level_times[level]
        print(f"SÃ¼reniz: {time_limit} saniye")

        start_time = time.time()
        tahmin = input("DoÄŸru Ä°ngilizce kelime nedir? ").strip().lower()
        elapsed_time = time.time() - start_time

        if elapsed_time > time_limit:
            print(f"SÃ¼reniz doldu! DoÄŸru cevap: {kelime}")
            wrong_answers += 1
            lives -= 1
        elif tahmin == kelime:
            print("Tebrikler! DoÄŸru bildiniz. ğŸ‰")
            correct_answers += 1
            correct_words.append(kelime)

            if correct_answers == 10:
                # 10 doÄŸru cevap alÄ±ndÄ±ÄŸÄ±nda zorluk seviyesini arttÄ±r
                if level == "A1":
                    level = "A2"
                elif level == "A2":
                    level = "B1"
                elif level == "B1":
                    level = "B2"
                elif level == "B2":
                    level = "C1"
                elif level == "C1":
                    level = "C2"
                correct_answers = 0  # DoÄŸru cevap sayÄ±sÄ±nÄ± sÄ±fÄ±rla
                print(f"\nYeni seviyeye geÃ§tiniz: {level}!\n")
        else:
            print(f"YanlÄ±ÅŸ cevap! DoÄŸru cevap: {kelime}")
            wrong_answers += 1
            wrong_words.append(kelime)
            lives -= 1

    # Oyun bittiÄŸinde kaydet
    game_duration = round(time.time() - game_start_time, 2)
    leaderboard.append({
        "date": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),
        "correct_answers": correct_answers,
        "wrong_answers": wrong_answers,
        "lives_left": lives,
        "correct_words": correct_words,
        "wrong_words": wrong_words,
        "duration": game_duration,
        "level_reached": level
    })
    
    # Oyun bitti
    print(f"\nOyun bitti! Toplam sÃ¼re: {game_duration} saniye")
    print(f"DoÄŸru cevap sayÄ±sÄ±: {correct_answers}")
    print(f"YanlÄ±ÅŸ cevap sayÄ±sÄ±: {wrong_answers}")
    print(f"En yÃ¼ksek seviyeniz: {level}")
    print("\nLeaderboard:")
    for record in leaderboard:
        print(f"{record['date']} - {record['level_reached']} - {record['correct_answers']} doÄŸru, {record['wrong_answers']} yanlÄ±ÅŸ, {record['duration']} saniye")

# Oyun baÅŸlat
if __name__ == "__main__":
    kelime_oyunu()
